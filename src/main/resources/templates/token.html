<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Demo</title>
    <meta name="description" content=""/>
    <meta name="viewport" content="width=device-width"/>
    <base href="/"/>
	 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
	  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js"></script>
	  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
	  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
	<div class="container">
		<h2>Token : <span id="token" onclick="copyToClipboard()"></span></h2>
		<h2>Name : <span id="name"></span></h2>
		<h3>Role : <span id="role"></span></h3>
	
	<a class="btn btn-success btn-lg mt-5" href="/login">Login again</a>
	</div>

	<script>
		// Function to extract parameters from the URL
		function getParameterByName(name, url) {
			if (!url) url = window.location.href;
			name = name.replace(/[\[\]]/g, "\\$&");
			var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
				results = regex.exec(url);
			if (!results) return null;
			if (!results[2]) return '';
			return decodeURIComponent(results[2].replace(/\+/g, " "));
		}

		// Extract token, username, and role from the URL
		var token = getParameterByName('token');
		var username = getParameterByName('username');
		var role = getParameterByName('role');

		// Update the HTML elements with the extracted values
		document.getElementById('token').textContent = token;
		document.getElementById('name').textContent = username;
		document.getElementById('role').textContent = role;

		// Function to copy the token to the clipboard
		function copyToClipboard() {
			var tokenElement = document.getElementById('token');
			var tokenText = tokenElement.textContent;

			// Create a temporary input element to copy the text
			var tempInput = document.createElement('input');
			tempInput.value = tokenText;
			document.body.appendChild(tempInput);
			tempInput.select();
			document.execCommand('copy');
			document.body.removeChild(tempInput);

			// Show a message that the token has been copied
			alert('Token has been copied to the clipboard: ' + tokenText);
		}
	</script>
</body>
</html>
